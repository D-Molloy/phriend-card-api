<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8" />
    <title>parseSetlistHtml</title>
  </head>
  <body>
    <!-- https://media2.giphy.com/media/2r6Kn7sZtYmsg/200.gif -->
<p><span class='set-label'>Set 1</span>: <a href='http://phish.net/song/stray-dog' class='setlist-song'>Stray Dog</a><sup title=\"Lyric changed to \"Plague Dog.\"\">[1]</sup>, <a href='http://phish.net/song/stealing-time-from-the-faulty-plan' class='setlist-song'>Stealing Time From the Faulty Plan</a>, <a href='http://phish.net/song/turtle-in-the-clouds' class='setlist-song'>Turtle in the Clouds</a>, <a title=\"Initially uncertain, the band practices prudence as myriad ideas (rhythmically, tonally, and texturally) are thrown into the fray without clear direction or heading. At 7:45, Page and Trey slide the jam cleanly into F, where a textured and detailed bliss jam oozes and bounces in dynamic. Trey fades a sustained note into foley so Page can step up to the organ (with the assistance of swirl and crunch) and remind us all of why he is the Chairman Of The Boards. Around the 11 minute mark, whale call Trey joins Mike and Fish's rhythmic bounce. Finally at 13:00, after just over 5 minutes of continued type II jamming, Trey winds the band back into the classic outro riff. \" href='http://phish.net/song/wolfmans-brother' class='setlist-song'>Wolfman's Brother</a>, <a href='http://phish.net/song/birds-of-a-feather' class='setlist-song'>Birds of a Feather</a>, <a href='http://phish.net/song/we-are-come-to-outlive-our-brains' class='setlist-song'>We Are Come to Outlive Our Brains</a> > <a href='http://phish.net/song/taste' class='setlist-song'>Taste</a> > <a href='http://phish.net/song/my-friend-my-friend' class='setlist-song'>My Friend, My Friend</a><sup title=\"\tNo \"Myfe\" ending.\">[2]</sup> > <a href='http://phish.net/song/twenty-years-later' class='setlist-song'>Twenty Years Later</a> > <a href='http://phish.net/song/sparkle' class='setlist-song'>Sparkle</a>, <a href='http://phish.net/song/crazy-sometimes' class='setlist-song'>Crazy Sometimes</a> > <a href='http://phish.net/song/bathtub-gin' class='setlist-song'>Bathtub Gin</a></p><p><span class='set-label'>Set 2</span>: <a href='http://phish.net/song/sightless-escape' class='setlist-song'>Sightless Escape</a><sup title=\"Phish debut.\">[3]</sup>, <a href='http://phish.net/song/fuego' class='setlist-song'>Fuego</a> -> <a title=\"Beginning with a slower tempo, this &quot;Piper&quot; gradually builds to normal speed. The jam peels away from customary, becoming mildly dissonant and atonal, before shifting to a warmer, more upbeat sentiment. The jam then becomes energized, pulsing, and rocking. Around 11:00 the music shifts again, with quieter musings and percussive drive which suggest a big peak, but > to &quot;Tweezer&quot; instead. \" href='http://phish.net/song/piper' class='setlist-song'>Piper</a> > <a href='http://phish.net/song/tweezer' class='setlist-song'>Tweezer</a> -> <a href='http://phish.net/song/also-sprach-zarathustra' class='setlist-song'>Also Sprach Zarathustra</a> > <a href='http://phish.net/song/chalk-dust-torture' class='setlist-song'>Chalk Dust Torture</a><sup title=\"Unfinished.\">[4]</sup> > <a href='http://phish.net/song/waste' class='setlist-song'>Waste</a> > <a href='http://phish.net/song/cavern' class='setlist-song'>Cavern</a> > <a href='http://phish.net/song/first-tube' class='setlist-song'>First Tube</a></p><p><span class='set-label'>Encore</span>: <a href='http://phish.net/song/the-horse' class='setlist-song'>The Horse</a> > <a href='http://phish.net/song/silent-in-the-morning' class='setlist-song'>Silent in the Morning</a> > <a href='http://phish.net/song/a-life-beyond-the-dream' class='setlist-song'>A Life Beyond The Dream</a>, <a href='http://phish.net/song/tweezer-reprise' class='setlist-song'>Tweezer Reprise</a><p class='setlist-footer'>[1] Lyric changed to \"Plague Dog.\"<br>[2] \tNo \"Myfe\" ending.<br>[3] Phish debut.<br>[4] Unfinished.<br></p>
<div>----------------------</div>
<p><span class='set-label'>Set 1</span>: <a href='http://phish.net/song/water-in-the-sky' class='setlist-song'>Water in the Sky</a>, <a title=\"A wonderful compact jam that starts with some dark energy but soon enough taps into classic '99 sounds and soars into the stratosphere. Welcome to Big Cypress. \" href='http://phish.net/song/light-up-or-leave-me-alone' class='setlist-song'>Light Up Or Leave Me Alone</a><sup title=\"Unfinished.\">[1]</sup> > <a href='http://phish.net/song/suzy-greenberg' class='setlist-song'>Suzy Greenberg</a>, <a href='http://phish.net/song/corinna' class='setlist-song'>Corinna</a>, <a title=\"The wild Big Cypress version showcases some cool staccato playing (see also &quot;Plinko&quot;) in the middle and an unusual jamming style, while still staying pretty close to the normal theme.\" href='http://phish.net/song/limb-by-limb' class='setlist-song'>Limb By Limb</a>, <a href='http://phish.net/song/che-hun-ta-mo' class='setlist-song'>Che Hun Ta Mo</a><sup title=\"Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. \">[2]</sup>, <a href='http://phish.net/song/big-alligator' class='setlist-song'>Big Alligator</a><sup title='Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. ' title='Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. '>[2]</sup>, <a href='http://phish.net/song/possum' class='setlist-song'>Possum</a>, <a href='http://phish.net/song/farmhouse' class='setlist-song'>Farmhouse</a>, <a href='http://phish.net/song/ghost' class='setlist-song'>Ghost</a>, <a href='http://phish.net/song/ya-mar' class='setlist-song'>Ya Mar</a>, <a href='http://phish.net/song/character-zero' class='setlist-song'>Character Zero</a></p><p><span class='set-label'>Set 2</span>: <a href='http://phish.net/song/wilson' class='setlist-song'>Wilson</a> > <a href='http://phish.net/song/the-curtain' class='setlist-song'>The Curtain</a> > <a title=\"A stunning, gorgeous jam.\" href='http://phish.net/song/tweezer' class='setlist-song'>Tweezer</a> -> <a href='http://phish.net/song/taste' class='setlist-song'>Taste</a>, <a href='http://phish.net/song/meat' class='setlist-song'>Meat</a>, <a href='http://phish.net/song/golgi-apparatus' class='setlist-song'>Golgi Apparatus</a>, <a href='http://phish.net/song/wolfmans-brother' class='setlist-song'>Wolfman's Brother</a>, <a href='http://phish.net/song/gotta-jibboo' class='setlist-song'>Gotta Jibboo</a> > <a href='http://phish.net/song/harry-hood' class='setlist-song'>Harry Hood</a> > <a href='http://phish.net/song/good-times-bad-times' class='setlist-song'>Good Times Bad Times</a></p><p><span class='set-label'>Set 3</span>: <a href='http://phish.net/song/chalk-dust-torture' class='setlist-song'>Chalk Dust Torture</a>, <a href='http://phish.net/song/the-moma-dance' class='setlist-song'>The Moma Dance</a> > <a href='http://phish.net/song/run-like-an-antelope' class='setlist-song'>Run Like an Antelope</a>, <a href='http://phish.net/song/the-sloth' class='setlist-song'>The Sloth</a>, <a href='http://phish.net/song/when-the-circus-comes' class='setlist-song'>When the Circus Comes</a>, <a title=\"&quot;Immigrant Song&quot; teasing early on sets the tone for this dark, angry wall of sound. A single jam segment, but it's heavy duty stuff, filled with spacey effects and a driving, seemingly accelerating Mike and Fish-led groove.\" href='http://phish.net/song/mikes-song' class='setlist-song'>Mike's Song</a> > <a href='http://phish.net/song/simple' class='setlist-song'>Simple</a> -> <a href='http://phish.net/song/i-am-hydrogen' class='setlist-song'>I Am Hydrogen</a> > <a href='http://phish.net/song/weekapaug-groove' class='setlist-song'>Weekapaug Groove</a></p><p><span class='set-label'>Encore</span>: <a href='http://phish.net/song/boogie-on-reggae-woman' class='setlist-song'>Boogie On Reggae Woman</a> > <a href='http://phish.net/song/tweezer-reprise' class='setlist-song'>Tweezer Reprise</a><p class='setlist-footer'>[1] Unfinished.<br>[2] Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. <br></p>
<script>
  const setlistStr1 = "<p><span class='set-label'>Set 1</span>: <a href='http://phish.net/song/stray-dog' class='setlist-song'>Stray Dog</a><sup title=\"Lyric changed to \"Plague Dog.\"\">[1]</sup>, <a href='http://phish.net/song/stealing-time-from-the-faulty-plan' class='setlist-song'>Stealing Time From the Faulty Plan</a>, <a href='http://phish.net/song/turtle-in-the-clouds' class='setlist-song'>Turtle in the Clouds</a>, <a title=\"Initially uncertain, the band practices prudence as myriad ideas (rhythmically, tonally, and texturally) are thrown into the fray without clear direction or heading. At 7:45, Page and Trey slide the jam cleanly into F, where a textured and detailed bliss jam oozes and bounces in dynamic. Trey fades a sustained note into foley so Page can step up to the organ (with the assistance of swirl and crunch) and remind us all of why he is the Chairman Of The Boards. Around the 11 minute mark, whale call Trey joins Mike and Fish's rhythmic bounce. Finally at 13:00, after just over 5 minutes of continued type II jamming, Trey winds the band back into the classic outro riff. \" href='http://phish.net/song/wolfmans-brother' class='setlist-song'>Wolfman's Brother</a>, <a href='http://phish.net/song/birds-of-a-feather' class='setlist-song'>Birds of a Feather</a>, <a href='http://phish.net/song/we-are-come-to-outlive-our-brains' class='setlist-song'>We Are Come to Outlive Our Brains</a> > <a href='http://phish.net/song/taste' class='setlist-song'>Taste</a> > <a href='http://phish.net/song/my-friend-my-friend' class='setlist-song'>My Friend, My Friend</a><sup title=\"\tNo \"Myfe\" ending.\">[2]</sup> > <a href='http://phish.net/song/twenty-years-later' class='setlist-song'>Twenty Years Later</a> > <a href='http://phish.net/song/sparkle' class='setlist-song'>Sparkle</a>, <a href='http://phish.net/song/crazy-sometimes' class='setlist-song'>Crazy Sometimes</a> > <a href='http://phish.net/song/bathtub-gin' class='setlist-song'>Bathtub Gin</a></p><p><span class='set-label'>Set 2</span>: <a href='http://phish.net/song/sightless-escape' class='setlist-song'>Sightless Escape</a><sup title=\"Phish debut.\">[3]</sup>, <a href='http://phish.net/song/fuego' class='setlist-song'>Fuego</a> -> <a title=\"Beginning with a slower tempo, this &quot;Piper&quot; gradually builds to normal speed. The jam peels away from customary, becoming mildly dissonant and atonal, before shifting to a warmer, more upbeat sentiment. The jam then becomes energized, pulsing, and rocking. Around 11:00 the music shifts again, with quieter musings and percussive drive which suggest a big peak, but > to &quot;Tweezer&quot; instead. \" href='http://phish.net/song/piper' class='setlist-song'>Piper</a> > <a href='http://phish.net/song/tweezer' class='setlist-song'>Tweezer</a> -> <a href='http://phish.net/song/also-sprach-zarathustra' class='setlist-song'>Also Sprach Zarathustra</a> > <a href='http://phish.net/song/chalk-dust-torture' class='setlist-song'>Chalk Dust Torture</a><sup title=\"Unfinished.\">[4]</sup> > <a href='http://phish.net/song/waste' class='setlist-song'>Waste</a> > <a href='http://phish.net/song/cavern' class='setlist-song'>Cavern</a> > <a href='http://phish.net/song/first-tube' class='setlist-song'>First Tube</a></p><p><span class='set-label'>Encore</span>: <a href='http://phish.net/song/the-horse' class='setlist-song'>The Horse</a> > <a href='http://phish.net/song/silent-in-the-morning' class='setlist-song'>Silent in the Morning</a> > <a href='http://phish.net/song/a-life-beyond-the-dream' class='setlist-song'>A Life Beyond The Dream</a>, <a href='http://phish.net/song/tweezer-reprise' class='setlist-song'>Tweezer Reprise</a><p class='setlist-footer'>[1] Lyric changed to \"Plague Dog.\"<br>[2] \tNo \"Myfe\" ending.<br>[3] Phish debut.<br>[4] Unfinished.<br></p>";

  const setlistStr2 = "<p><span class='set-label'>Set 1</span>: <a href='http://phish.net/song/water-in-the-sky' class='setlist-song'>Water in the Sky</a>, <a title=\"A wonderful compact jam that starts with some dark energy but soon enough taps into classic '99 sounds and soars into the stratosphere. Welcome to Big Cypress. \" href='http://phish.net/song/light-up-or-leave-me-alone' class='setlist-song'>Light Up Or Leave Me Alone</a><sup title=\"Unfinished.\">[1]</sup> > <a href='http://phish.net/song/suzy-greenberg' class='setlist-song'>Suzy Greenberg</a>, <a href='http://phish.net/song/corinna' class='setlist-song'>Corinna</a>, <a title=\"The wild Big Cypress version showcases some cool staccato playing (see also &quot;Plinko&quot;) in the middle and an unusual jamming style, while still staying pretty close to the normal theme.\" href='http://phish.net/song/limb-by-limb' class='setlist-song'>Limb By Limb</a>, <a href='http://phish.net/song/che-hun-ta-mo' class='setlist-song'>Che Hun Ta Mo</a><sup title=\"Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. \">[2]</sup>, <a href='http://phish.net/song/big-alligator' class='setlist-song'>Big Alligator</a><sup title='Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. ' title='Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. '>[2]</sup>, <a href='http://phish.net/song/possum' class='setlist-song'>Possum</a>, <a href='http://phish.net/song/farmhouse' class='setlist-song'>Farmhouse</a>, <a href='http://phish.net/song/ghost' class='setlist-song'>Ghost</a>, <a href='http://phish.net/song/ya-mar' class='setlist-song'>Ya Mar</a>, <a href='http://phish.net/song/character-zero' class='setlist-song'>Character Zero</a></p><p><span class='set-label'>Set 2</span>: <a href='http://phish.net/song/wilson' class='setlist-song'>Wilson</a> > <a href='http://phish.net/song/the-curtain' class='setlist-song'>The Curtain</a> > <a title=\"A stunning, gorgeous jam.\" href='http://phish.net/song/tweezer' class='setlist-song'>Tweezer</a> -> <a href='http://phish.net/song/taste' class='setlist-song'>Taste</a>, <a href='http://phish.net/song/meat' class='setlist-song'>Meat</a>, <a href='http://phish.net/song/golgi-apparatus' class='setlist-song'>Golgi Apparatus</a>, <a href='http://phish.net/song/wolfmans-brother' class='setlist-song'>Wolfman's Brother</a>, <a href='http://phish.net/song/gotta-jibboo' class='setlist-song'>Gotta Jibboo</a> > <a href='http://phish.net/song/harry-hood' class='setlist-song'>Harry Hood</a> > <a href='http://phish.net/song/good-times-bad-times' class='setlist-song'>Good Times Bad Times</a></p><p><span class='set-label'>Set 3</span>: <a href='http://phish.net/song/chalk-dust-torture' class='setlist-song'>Chalk Dust Torture</a>, <a href='http://phish.net/song/the-moma-dance' class='setlist-song'>The Moma Dance</a> > <a href='http://phish.net/song/run-like-an-antelope' class='setlist-song'>Run Like an Antelope</a>, <a href='http://phish.net/song/the-sloth' class='setlist-song'>The Sloth</a>, <a href='http://phish.net/song/when-the-circus-comes' class='setlist-song'>When the Circus Comes</a>, <a title=\"&quot;Immigrant Song&quot; teasing early on sets the tone for this dark, angry wall of sound. A single jam segment, but it's heavy duty stuff, filled with spacey effects and a driving, seemingly accelerating Mike and Fish-led groove.\" href='http://phish.net/song/mikes-song' class='setlist-song'>Mike's Song</a> > <a href='http://phish.net/song/simple' class='setlist-song'>Simple</a> -> <a href='http://phish.net/song/i-am-hydrogen' class='setlist-song'>I Am Hydrogen</a> > <a href='http://phish.net/song/weekapaug-groove' class='setlist-song'>Weekapaug Groove</a></p><p><span class='set-label'>Encore</span>: <a href='http://phish.net/song/boogie-on-reggae-woman' class='setlist-song'>Boogie On Reggae Woman</a> > <a href='http://phish.net/song/tweezer-reprise' class='setlist-song'>Tweezer Reprise</a><p class='setlist-footer'>[1] Unfinished.<br>[2] Phish debut; John McEuen on mandolin, Raiford Starke on guitar, and Seminole Indian Chief Jim Billie on guitar and lead vocals. <br></p>"

  

  function buildSetlistObj(setlistHtml){
    const setlistEl = document.createElement("body")

    setlistEl.innerHTML = setlistHtml

    const detailsAr = setlistEl.querySelectorAll("[class^='set']")

    const showDetails = {
      songCount:0
    }
    const currentSetAr = []
    let setCount = 0
    

    for(item of detailsAr){
      if(item.classList.contains("set-label")){
        currentSetAr = []
        setCount++
        showDetails[`set${setCount}`] = currentSetAr
      }
  
      if(item.classList.contains("setlist-song")){
        showDetails[`set${setCount}`].push(item.textContent)
        showDetails.songCount++
      }
  }
  return showDetails
}

const showObj1 = buildSetlistObj(setlistStr1)
console.log('showObj1', showObj1)
const showObj2 = buildSetlistObj(setlistStr2)
console.log('showObj2', showObj2)

</script>  
</body>
</html>
